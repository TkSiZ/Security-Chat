<div class="sidebar">

  <!-- CabeÃ§alho fixo -->
  <div class="sidebar-header">
    <h2>Conversas</h2>

    <!-- BotÃµes abaixo do tÃ­tulo -->
    <div class="sidebar-actions">
      <button (click)="showCreatePopup = true" class="action-button">ðŸ†• Criar Chat</button>
      <button (click)="showConnectPopup = true" class="action-button">ðŸ”— Conectar Chat</button>
    </div>
  </div>

  <!-- Lista de chats com scroll -->
  <div class="sidebar-chats">
    @for (chat of chats; track chat) {
      <app-chats
        [chatName]="chat.name"
        [chatId]="chat.id"
        [currentChat]="currentChat"
        [admin]="chat.admin">
      </app-chats>
    }
  </div>

  <!-- RodapÃ© fixo -->
  <div class="sidebar-footer">
    <button (click)="logout()" class="logout-button">ðŸšª Sair</button>
  </div>

  <!-- Popup Criar Chat -->
  <div class="popup" *ngIf="showCreatePopup">
    <div class="popup-content">
      <h3>Criar novo chat</h3>
      <input #chatCodeInput type="number" min="1" placeholder="CÃ³digo do chat"/>
      <input #chatNameInput placeholder="Nome do chat" />
      <div class="popup-actions">
        <button (click)="createChat(chatNameInput, chatCodeInput)" class="action-button">Criar</button>
        <button (click)="showCreatePopup = false" class="action-button">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Popup Conectar Chat -->
  <div class="popup" *ngIf="showConnectPopup">
    <div class="popup-content">
      <h3>Conectar a um chat existente</h3>
      <input #chatConnectInput placeholder="ID ou nome do chat" />
      <div class="popup-actions">
        <button (click)="connectChat(chatConnectInput)" class="action-button">Conectar</button>
        <button (click)="showConnectPopup = false" class="action-button">Cancelar</button>
      </div>
    </div>
  </div>

</div>
