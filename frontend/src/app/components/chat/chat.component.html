@if (currentChat === null) {
  <p class="loading">Carregando...</p>
} @else {
  <div class="chat-container">
    <header class="chat-header">
      <h3 class="chat-name">{{ currentChat.name}}</h3>
      <button class="copy-btn" (click)="copyChatId()" title="Copiar ID">ğŸ“‹</button>
    </header>



    
    @if (messages.length) {
      <section class="messages">
        @for (message of messages; track message) {
          @if (message.type !== 'KEY'){
            <div
            class="message"
            [class.me]="message.author === author"  
            [class.received]="message.author !== author"
          >
            <div class="author">
              {{ message.author }}
            </div>

            <div class="text">{{message.text}}</div>

          </div>
          }
        }
      </section>
    } @else {
      <section class="no_messages">
        <p>Sem mensagens</p>
      </section>
    }
    @if (is_able_to_send){
      <app-text-box (sendMessageChild)="sendMessage($event, false)"></app-text-box>
    }
  </div>
}